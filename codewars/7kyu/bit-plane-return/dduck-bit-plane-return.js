// bit-plane-return
// Bit Plane Return
// difficulty: 7kyu
// https://www.codewars.com/kata/5a1a00dcba2a14738a000029/
// approach: https://blog.devserum.com/data-structures-and-algorithms/coding-challenges/codewars/7kyu/bit-plane-return

const bitSlice = (image, plane) => image.map((row) => {
  return row.map((v) => {
    return Number(v.toString(2).padStart(8, '0')[7 - plane]);
  });
});

console.log(bitSlice([[68, 69, 75, 100],
    [71, 82, 106, 117],
    [119, 117, 126, 132],
    [116, 127, 146, 111]], 3),
  [[0, 0, 1, 0],
    [0, 0, 1, 0],
    [0, 0, 1, 0],
    [0, 1, 0, 1]], 'Should return bit plane 4');

console.log(bitSlice([[24, 35, 49, 51, 49],
    [27, 38, 47, 50, 50],
    [32, 39, 47, 50, 53],
    [38, 45, 49, 51, 53],
    [43, 49, 49, 50, 51]], 2),
  [[0, 0, 0, 0, 0],
    [0, 1, 1, 0, 0],
    [0, 1, 1, 0, 1],
    [1, 1, 0, 0, 1],
    [0, 0, 0, 0, 0]], 'Should return bit plane 5');

console.log(bitSlice([[19, 27, 38, 46, 60, 63],
    [19, 22, 30, 38, 55, 58],
    [22, 22, 22, 39, 45, 54],
    [22, 22, 21, 45, 54, 63],
    [21, 19, 21, 36, 51, 64],
    [21, 21, 19, 24, 45, 60]], 7),
  [[0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0]], 'Should return bit plane 0');

console.log(bitSlice([[73, 147, 208, 216, 216, 209, 175, 158],
    [66, 93, 158, 199, 206, 190, 185, 136],
    [65, 71, 123, 180, 205, 189, 170, 141],
    [63, 45, 76, 149, 198, 183, 153, 139],
    [61, 39, 51, 120, 185, 181, 149, 130],
    [58, 47, 49, 96, 161, 175, 158, 121],
    [49, 46, 46, 70, 127, 158, 160, 110],
    [36, 39, 42, 51, 99, 141, 141, 96]], 0),
  [[1, 1, 0, 0, 0, 1, 1, 0],
    [0, 1, 0, 1, 0, 0, 1, 0],
    [1, 1, 1, 0, 1, 1, 0, 1],
    [1, 1, 0, 1, 0, 1, 1, 1],
    [1, 1, 1, 0, 1, 1, 1, 0],
    [0, 1, 1, 0, 1, 1, 0, 1],
    [1, 0, 0, 0, 1, 0, 0, 0],
    [0, 1, 0, 1, 1, 1, 1, 0]], 'Should return bit plane 7');
